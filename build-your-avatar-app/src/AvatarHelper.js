/*
   This file contains functions that add objects to the canva,
   and these functions will be imported in App.js
*/

import * as fabric from 'fabric';

// just bunch of icons
import { LuCat, LuBone, LuSmile } from 'react-icons/lu';
import { FaRegFaceFlushed, FaRegSquare, FaAppleWhole, FaRegHeart } from "react-icons/fa6";
import { FaHatCowboy, FaRegSmileWink} from "react-icons/fa";
import { RiBearSmileLine } from "react-icons/ri";
import { BiCake } from "react-icons/bi";
import { GiPartyHat, GiTomato } from "react-icons/gi";


// this dict contains svg strings of customised object
var svgStringDict = {
    "bluehat": `<svg
        width="512"
        height="512"
        viewBox="0 0 512 512"
        version="1.1"
        id="svg1"
        xml:space="preserve"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:svg="http://www.w3.org/2000/svg"><defs
            id="defs1" /><g
            id="layer1"><path
            style="fill:#0c3aea;fill-opacity:1"
            d="m 80.273492,224.17108 0.810844,30.0012 h 32.433744 l 0.81084,17.83856 189.73735,-1.62169 0.81084,-32.43373 h 128.11325 l 0.81085,-47.02892 h -17.83856 l -0.81084,-30.0012 h -15.40602 l -0.81085,-19.46024 h -15.40602 l 0.81084,-16.21687 h -16.21687 v -14.59518 h -14.59518 l -0.81084,-15.406029 h -31.62289 l -2.43253,-17.838549 h -63.24578 l 0.81084,17.027709 -33.24458,0.81084 0.81085,15.406029 -31.62289,0.81084 3.24337,17.83856 -35.67711,-0.81085 1.62169,31.62289 -18.6494,-0.81084 0.81084,17.02771 -18.64939,-0.81084 0.81084,16.21687 -30.81206,0.81084 0.81085,30.81205 z"
            id="path1" /><path
            style="fill:#5cbfe3;fill-opacity:1;stroke-width:1.03839"
            d="m 93.246986,189.76312 2.43253,33.22342 33.244574,0.87431 -0.81084,16.61171 h 15.40602 l 1.62169,14.8631 14.59518,3.49721 v 13.11452 l 144.33012,0.87429 2.43253,-48.96083 -50.27229,0.87429 v -20.10891 l -48.6506,-0.87429 -0.81084,-14.86313 -63.24579,-0.87428 -2.43253,-15.73742 h -17.02771 v 17.48601 z"
            id="path2" /><path
            style="fill:#3b788e;fill-opacity:1;stroke-width:1.03495"
            d="m 79.846837,220.54939 48.806273,0.85131 v 15.32363 l 16.40995,0.68349 0.87741,16.55415 15.50081,1.50492 v 15.95218 l -48.25725,0.30099 -0.58493,-17.75809 -33.048909,-1.20394 z"
            id="path3" /><path
            style="fill:#18296b;fill-opacity:1"
            d="m 416.16535,190.14277 0.40543,47.63705 h 16.62228 l 0.20272,-47.63705 z"
            id="path4" /></g></svg>`,
    "yellowhat":`<svg
   width="512"
   height="512"
   viewBox="0 0 512 512"
   version="1.1"
   id="svg1"
   xml:space="preserve"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><defs
     id="defs1" /><g
     id="layer1"><path
       style="fill:#f28824;fill-opacity:1"
       d="m 80.273492,224.17108 0.810844,30.0012 h 32.433744 l 0.81084,17.83856 189.73735,-1.62169 0.81084,-32.43373 h 128.11325 l 0.81085,-47.02892 h -17.83856 l -0.81084,-30.0012 h -15.40602 l -0.81085,-19.46024 h -15.40602 l 0.81084,-16.21687 h -16.21687 v -14.59518 h -14.59518 l -0.81084,-15.406029 h -31.62289 l -2.43253,-17.838549 h -63.24578 l 0.81084,17.027709 -33.24458,0.81084 0.81085,15.406029 -31.62289,0.81084 3.24337,17.83856 -35.67711,-0.81085 1.62169,31.62289 -18.6494,-0.81084 0.81084,17.02771 -18.64939,-0.81084 0.81084,16.21687 -30.81206,0.81084 0.81085,30.81205 z"
       id="path1" /><path
       style="fill:#d4f224;fill-opacity:1;stroke-width:1.03839"
       d="m 93.246986,189.76312 2.43253,33.22342 33.244574,0.87431 -0.81084,16.61171 h 15.40602 l 1.62169,14.8631 14.59518,3.49721 v 13.11452 l 144.33012,0.87429 2.43253,-48.96083 -50.27229,0.87429 v -20.10891 l -48.6506,-0.87429 -0.81084,-14.86313 -63.24579,-0.87428 -2.43253,-15.73742 h -17.02771 v 17.48601 z"
       id="path2" /><path
       style="fill:#8eb60b;fill-opacity:1;stroke-width:1.03495"
       d="m 79.846837,220.54939 48.806273,0.85131 v 15.32363 l 16.40995,0.68349 0.87741,16.55415 15.50081,1.50492 v 15.95218 l -48.25725,0.30099 -0.58493,-17.75809 -33.048909,-1.20394 z"
       id="path3" /><path
       style="fill:#b65e0b;fill-opacity:1"
       d="m 416.16535,190.14277 0.40543,47.63705 h 16.62228 l 0.20272,-47.63705 z"
       id="path4" /></g></svg>`,
    "squareface": `<svg
   width="512"
   height="512"
   viewBox="0 0 512 512"
   version="1.1"
   id="svg1"
   xml:space="preserve"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><defs
     id="defs1" /><g
     id="layer1"><path
       style="fill:#3e3b3b;fill-opacity:1"
       d="m 124.86988,238.38795 -15.40602,-0.81084 1.62168,192.98072 288.66024,0.81085 -1.62168,-192.98073 h -15.40603 l 0.81085,176.76386 -257.03735,1.62169 z"
       id="path1" /></g></svg>`,
    "bearface": `<svg
   width="512"
   height="512"
   viewBox="0 0 512 512"
   version="1.1"
   id="svg1"
   xml:space="preserve"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><defs
     id="defs1" /><g
     id="layer1"><path
       style="fill:#946956;fill-opacity:1;opacity:1"
       d="m 57.630399,119.65088 16.62723,0.57335 V 88.689819 H 139.0465 l -0.57336,16.053881 32.10776,0.57336 v 18.34729 l 14.33382,-1.72006 1.72006,16.05388 16.05388,-0.57335 v 15.48052 l 95.17657,-0.57335 1.14671,-30.96105 30.96105,0.57335 -1.1467,-16.62723 h 17.77394 l 1.1467,-17.200591 59.05535,0.57335 V 104.7437 l 20.6407,0.57336 v 32.10776 l 16.05388,0.57335 -1.14671,32.68111 17.20059,-0.57335 -1.14671,77.97599 16.05388,1.72005 v 32.68112 l -15.48052,-0.57336 -0.57336,48.16164 -32.68111,0.57336 -0.57335,14.90717 -13.18712,1.14671 v 32.10776 l -17.77394,-1.72006 v 14.33382 l -32.68111,-0.57336 1.14671,18.92065 H 122.41926 l 1.14671,-16.62723 h -16.62722 l -1.14671,-15.48053 -15.480521,-0.57335 v -15.48053 l -32.68112,0.57335 1.14671,-34.40117 -16.05388,-0.57335 -0.57336,-45.29488 -16.62723,-1.1467 v -46.44158 l 17.20059,1.1467 v -67.08228 l 16.05388,0.57335 z"
       id="path1" /><path
       style="fill:#d9bdb0;fill-opacity:1"
       d="m 74.433735,155.23038 0.573352,18.34729 66.508933,-1.14671 v -49.30834 l -51.601758,1.72005 0.573352,31.53441 z"
       id="path2-9" /><path
       style="fill:#d9bdb0;fill-opacity:1"
       d="m 346.77633,139.1765 1.14671,32.10775 64.21552,-0.57335 -1.14671,-48.16164 -48.16164,-0.57335 0.57335,17.77394 z"
       id="path3" /><path
       style="fill:#d9bdb0;fill-opacity:1"
       d="m 202.71084,250.5506 113.51808,0.81085 v 15.0006 l 14.59518,-0.40542 0.81084,17.43313 h 16.21687 l -0.40542,47.83976 -16.21687,0.40542 0.40542,15.81145 h -16.21687 v 15.81144 l -112.70723,0.40542 v -16.21686 l -14.59518,0.81084 -0.81084,-17.02771 -15.40602,-0.40542 v -49.46145 l 15.0006,0.40542 v -14.59518 l 16.62229,-0.40542 z"
       id="path2" /></g></svg>`,
    "freezeface": `<svg
   width="512"
   height="512"
   viewBox="0 0 512 512"
   version="1.1"
   id="svg1"
   xml:space="preserve"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><defs
     id="defs1" /><g
     id="layer1"><path
       style="fill:#3e3b3b;fill-opacity:1"
       d="m 120.81567,287.8494 0.81084,32.43374 h 33.24458 v -17.02771 l -17.83856,0.81084 0.81085,-15.40602 z"
       id="path1" /><path
       style="fill:#3e3b3b;fill-opacity:1"
       d="m 232.84217,287.13494 0.81084,32.43374 h 33.24458 v -17.02771 l -17.83856,0.81084 0.81085,-15.40602 z"
       id="path1-3" /><path
       style="fill:#e3b1d4;fill-opacity:1"
       d="m 90.003615,337.31085 0.810843,30.0012 31.622892,0.81085 -0.81084,-32.43374 z"
       id="path2" /><path
       style="fill:#e3b1d4;fill-opacity:1"
       d="m 267.49277,337.48675 0.81084,30.0012 31.6229,0.81085 -0.81085,-32.43374 z"
       id="path2-2" /><path
       style="fill:#3e3b3b;fill-opacity:1"
       d="m 154.80527,352.03864 79.69605,0.86003 0.57335,47.30161 -81.12943,0.57336 z"
       id="path3" /><path
       style="fill:#ea1c1c;fill-opacity:1"
       d="m 170.85914,369.52591 0.28668,16.05388 47.87496,-0.28668 -0.57335,-15.7672 z"
       id="path4" /></g></svg>`,
    "bearsmile": `<svg
   width="512"
   height="512"
   viewBox="0 0 512 512"
   version="1.1"
   id="svg1"
   xml:space="preserve"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><defs
     id="defs1" /><g
     id="layer1"><path
       style="fill:#000000;fill-opacity:1"
       d="m 210.00843,224.60362 0.81085,16.21686 h 16.21687 l -0.81085,-16.21686 z"
       id="path3" /><path
       style="fill:#000000;fill-opacity:1"
       d="m 290.28193,224.60362 1.62169,15.40602 14.59518,0.81084 v -16.21686 z"
       id="path4" /><path
       style="fill:#000000;fill-opacity:1"
       d="m 226.2253,257.03735 1.62169,16.21687 15.40602,0.81084 0.81085,14.59518 60.81325,-0.81084 0.81084,-30.00121 z"
       id="path5" /><path
       style="fill:#000000;fill-opacity:1"
       d="m 209.19759,304.87711 2.43253,31.62289 47.83976,1.62169 -1.62169,-19.46024 H 226.2253 l 0.81085,-14.59518 z"
       id="path6" /><path
       style="fill:#eaa2a2;fill-opacity:1"
       d="m 114.32892,289.47109 0.81084,31.62289 33.24458,-1.62169 -1.62169,-30.0012 z"
       id="path7" /><path
       style="fill:#eaa2a2;fill-opacity:1"
       d="m 389.55181,290.05422 0.81084,31.62289 33.24458,-1.62169 -1.62169,-30.0012 z"
       id="path7-0" /></g></svg>`,
    "cake": `<svg
   version="1.1"
   id="svg1"
   width="512"
   height="512"
   viewBox="0 0 512 512"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <g
     id="g1">
    <path
       style="fill:#e1acac;fill-opacity:1"
       d="m 207.57474,79.223621 0.44259,80.108799 96.04204,0.44259 -0.44259,-80.108799 z"
       id="path1" />
    <path
       style="fill:#f0c9b4;fill-opacity:1;stroke-width:1.01146"
       d="m 206.68956,79.223621 1.35836,33.194259 47.54275,-0.44259 0.45278,15.49065 h 33.50631 l 0.45279,-15.04806 14.942,-0.44259 V 79.223621 Z"
       id="path2" />
    <path
       style="fill:#c70303;fill-opacity:1"
       d="m 239.88381,46.914547 0.88518,48.684907 32.30908,0.44259 -1.32777,-32.751665 -16.37583,0.44259 -0.44259,-15.933242 z"
       id="path3" />
    <path
       style="fill:#8b3434;fill-opacity:1"
       d="m 238.99863,47.357137 1.32777,16.375832 h 15.49066 V 47.357137 Z"
       id="path4" />
  </g>
            </svg>`,
    "birthdayhat": `<svg
   version="1.1"
   id="svg1"
   width="512"
   height="512"
   viewBox="0 0 512 512"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <g
     id="g1">
    <path
       style="fill:#8cd0e8;fill-opacity:1"
       d="m 206.68956,94.714274 0.44259,64.175556 96.48463,1.32777 V 95.156864 l -16.37583,0.44259 -0.44259,-48.242317 -15.93324,0.44259 0.88518,-30.981305 -32.30908,0.44259 0.44259,30.538715 h -16.81842 l 0.88518,49.127497 z"
       id="path1" />
    <path
       style="fill:#eaa2a2;fill-opacity:1"
       d="m 223.50798,63.732969 h 15.49065 l 0.88518,15.490652 -16.37583,0.44259 z"
       id="path2" />
    <path
       style="fill:#eaa2a2;fill-opacity:1"
       d="m 255.37447,62.405199 1.32777,17.703603 h 14.60547 V 63.732969 Z"
       id="path3" />
    <path
       style="fill:#eaa2a2;fill-opacity:1"
       d="m 207.13215,95.156864 16.81842,2.21295 -0.88518,14.162886 -15.93324,0.88518 z"
       id="path4" />
    <path
       style="fill:#eaa2a2;fill-opacity:1"
       d="m 241.21158,111.97529 -0.88518,15.04806 h 15.04807 V 111.5327 Z"
       id="path5" />
    <path
       style="fill:#eaa2a2;fill-opacity:1"
       d="m 271.7503,96.042044 0.44259,16.375836 12.83511,-1.32777 1.32777,-14.162886 z"
       id="path6" />
    <path
       style="fill:#eaa2a2;fill-opacity:1"
       d="m 287.24095,128.79371 1.77036,15.04806 h 15.04806 l -0.88518,-15.93324 z"
       id="path7" />
    <path
       style="fill:#eaa2a2;fill-opacity:1"
       d="m 238.55604,144.28436 1.32777,14.60547 h 15.93325 v -14.60547 z"
       id="path8" />
    <path
       style="fill:#e1666c;fill-opacity:1;stroke-width:1.14781"
       d="m 239.88381,14.713129 v 19.808896 l 31.4239,-1.65074 V 14.162882 Z"
       id="path9" />
  </g>
                  </svg>`,
    "apple": `<svg
   version="1.1"
   id="svg1"
   width="512"
   height="512"
   viewBox="0 0 512 512"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <g
     id="g1">
    <path
       style="fill:#c14e4e;fill-opacity:1"
       d="m 207.4094,63.088744 h 95.25163 l 1.64938,16.081444 h 14.84441 l 0.41234,47.831992 -16.08144,1.64938 0.41235,30.51351 -96.07633,1.23703 -1.23703,-17.73082 h -16.90613 l 1.23703,-63.501092 16.90613,-0.412345 z"
       id="path1" />
    <path
       style="fill:#9c3d3d;fill-opacity:1"
       d="m 288.22897,95.663977 -0.41235,31.750543 17.73082,0.41234 -0.41234,-32.162883 z"
       id="path4" />
    <path
       style="fill:#8b3434;fill-opacity:1;stroke-width:1.13459"
       d="m 300.18697,78.757843 h 18.1844 l 2.02048,51.130747 h -18.1844 z"
       id="path2" />
    <path
       style="fill:#8b3434;fill-opacity:1"
       d="m 288.22897,127.41452 h 14.84441 l 1.23703,32.16289 -31.75054,0.41234 -0.82469,-16.90613 15.6691,0.41235 z"
       id="path3" />
    <path
       style="fill:#6f3030;fill-opacity:1"
       d="m 223.0785,15.6691 0.41234,14.84441 16.08145,1.649379 0.41234,31.750544 31.75055,-0.412345 0.41234,-16.493789 -17.73082,-0.824689 0.82469,-14.432066 -16.08145,-0.824689 V 14.432066 Z"
       id="path5" />
    <path
       style="fill:#4fa41d;fill-opacity:1"
       d="m 271.32283,30.925855 16.08145,0.412344 0.82469,16.49379 -17.31848,-0.82469 z"
       id="path6" />
  </g>
              </svg>`,
    "pinkheart": `<svg
   version="1.1"
   id="svg1"
   width="512"
   height="512"
   viewBox="0 0 512 512"
   sodipodi:docname="pinkheart.svg"
   inkscape:version="1.4 (e7c3feb1, 2024-10-09)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="1.7148438"
     inkscape:cx="281.36674"
     inkscape:cy="245.79499"
     inkscape:window-width="1472"
     inkscape:window-height="920"
     inkscape:window-x="0"
     inkscape:window-y="160"
     inkscape:window-maximized="0"
     inkscape:current-layer="g1" />
  <g
     inkscape:groupmode="layer"
     inkscape:label="Image"
     id="g1">
    <path
       style="fill:#ffd7e9;fill-opacity:1"
       d="m 185.7613,168.64899 h 7.83455 v -8.24689 l 23.50365,0.20617 -0.20617,8.2469 h 8.65924 v 8.65924 l 15.46292,-0.61852 0.41235,7.83455 h 16.08144 l -0.20617,-7.83455 8.2469,-0.20617 -0.41235,-8.2469 8.65924,0.20617 -0.41234,-7.21603 23.70982,-0.41234 0.20617,8.24689 h 15.46293 l 0.20617,7.62838 h 8.24689 l -0.20617,16.90613 8.04072,-0.20617 0.41235,32.16289 -8.86541,-0.41235 v 7.62838 l -8.04073,-0.61852 0.61852,8.45307 h -8.04072 l -0.20617,8.04072 -8.65924,0.20618 0.20617,15.87527 -7.4222,-0.41235 -0.20618,8.04073 -15.6691,0.20617 0.41235,8.45307 -8.45307,-0.61852 0.20617,8.04072 -8.45306,0.20617 v 7.62838 l -15.46293,-0.20617 v -8.2469 l -8.2469,0.20618 v -7.62838 l -7.62837,-0.20617 -0.20618,-7.83455 -16.28761,-0.41235 v -7.4222 l -8.04072,0.20617 0.20617,-9.07159 -7.42221,-0.20617 v -7.00986 l -7.83455,0.20617 -0.20617,-8.65924 h -8.45307 v -16.49378 h -8.04072 l -0.20617,-31.13203 9.07158,0.61852 0.20618,-16.49379 h 8.04072 z"
       id="path1" />
    <path
       style="fill:#ffffff;fill-opacity:1"
       d="m 289.25983,177.10206 0.20617,15.05058 16.28762,0.41235 -0.82469,-15.46293 z"
       id="path2" />
    <path
       style="fill:#ffffff;fill-opacity:1"
       d="m 296.88821,208.23409 0.41234,24.12216 8.45307,-0.20617 -0.61852,-24.12216 z"
       id="path3" />
  </g>
              </svg>`,
    "tomato": `<svg
   version="1.1"
   id="svg1"
   width="520"
   height="537.77777"
   viewBox="0 0 520 537.77777"
   sodipodi:docname="tomato.svg"
   inkscape:version="1.4 (e7c3feb1, 2024-10-09)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1">
    <inkscape:path-effect
       effect="bspline"
       id="path-effect3"
       is_visible="true"
       lpeversion="1.3"
       weight="33.333333"
       steps="2"
       helper_size="0"
       apply_no_weight="true"
       apply_with_weight="true"
       only_selected="false"
       uniform="false" />
    <inkscape:path-effect
       effect="bspline"
       id="path-effect2"
       is_visible="true"
       lpeversion="1.3"
       weight="33.333333"
       steps="2"
       helper_size="0"
       apply_no_weight="true"
       apply_with_weight="true"
       only_selected="false"
       uniform="false" />
    <inkscape:path-effect
       effect="bspline"
       id="path-effect1"
       is_visible="true"
       lpeversion="1.3"
       weight="33.333333"
       steps="2"
       helper_size="0"
       apply_no_weight="true"
       apply_with_weight="true"
       only_selected="false"
       uniform="false" />
  </defs>
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.7605372"
     inkscape:cx="267.57403"
     inkscape:cy="296.50095"
     inkscape:window-width="1472"
     inkscape:window-height="920"
     inkscape:window-x="0"
     inkscape:window-y="160"
     inkscape:window-maximized="0"
     inkscape:current-layer="g1" />
  <g
     inkscape:groupmode="layer"
     inkscape:label="Image"
     id="g1">
    <path
       style="fill:#af0c0d;fill-opacity:1"
       d="m 340.75209,168.05168 c 0.46487,-2.86672 0.92974,-5.73344 1.62706,-8.67767 0.69732,-2.94423 1.62704,-5.96584 2.44058,-8.48393 0.81353,-2.51808 1.51083,-4.53249 2.13067,-6.12082 0.61984,-1.58833 1.16218,-2.75049 2.40186,-3.40906 1.23968,-0.65857 3.17661,-0.81352 4.80368,-0.6973 1.62707,0.11622 2.94419,0.50361 3.95142,1.20093 1.00723,0.69732 1.70453,1.70452 1.47208,3.06042 -0.23245,1.3559 -1.39461,3.0604 -2.28562,4.60999 -0.89102,1.54959 -1.51084,2.94418 -2.20815,4.80369 -0.69732,1.85952 -1.47209,4.18384 -1.97571,6.15957 -0.50361,1.97573 -0.73604,3.60275 -0.891,4.76494 -0.15496,1.16219 -0.23244,1.85949 2.05323,1.27838 2.28568,-0.58111 6.93432,-2.44057 10.26593,-3.29283 3.33161,-0.85227 5.34602,-0.69732 6.97309,-0.5811 1.62707,0.11622 2.8667,0.1937 3.95142,0.65858 1.08471,0.46488 2.01444,1.31713 2.40184,2.47933 0.38739,1.1622 0.23243,2.63427 -0.23245,3.79646 -0.46488,1.16219 -1.23965,2.01444 -2.32437,3.09916 -1.08472,1.08472 -2.47931,2.40183 -0.65851,3.87394 1.8208,1.47212 6.85683,3.09914 10.45962,4.45504 3.60279,1.35589 5.77215,2.44057 7.283,3.71899 1.51085,1.27841 2.3631,2.75048 3.06042,3.87393 0.69731,1.12346 1.23965,1.89823 3.13791,3.60279 1.89827,1.70456 5.15232,4.33879 7.63166,6.9731 2.47934,2.63431 4.18384,5.26854 5.81092,8.21277 1.62707,2.94423 3.17661,6.19827 4.1451,9.68486 0.96849,3.48659 1.35588,7.2055 1.58831,10.88578 0.23244,3.68028 0.30992,7.32172 0.1937,11.07948 -0.11622,3.75777 -0.42613,7.63163 -0.96849,11.27317 -0.54236,3.64154 -1.31713,7.05055 -2.63429,10.80832 -1.31716,3.75776 -3.17662,7.86406 -5.53975,11.73804 -2.36314,3.87398 -5.2298,7.51541 -8.36773,10.65333 -3.13793,3.13792 -6.54693,5.77215 -10.30469,8.0578 -3.75777,2.28564 -7.86407,4.22258 -12.43538,5.50098 -4.5713,1.27841 -9.60732,1.89823 -14.72098,2.40185 -5.11366,0.50361 -10.30464,0.891 -15.65074,0.6973 -5.34609,-0.19371 -10.84698,-0.96848 -16.15434,-2.09194 -5.30735,-1.12346 -10.42086,-2.59553 -15.53451,-4.22261 -5.11366,-1.62707 -10.22716,-3.40904 -15.49578,-5.65596 -5.26862,-2.24691 -10.69203,-4.95862 -15.49576,-8.75513 -4.80373,-3.79652 -8.98751,-8.67759 -12.43535,-14.06243 -3.44783,-5.38484 -6.15954,-11.27312 -8.01904,-17.23905 -1.85951,-5.96593 -2.86671,-12.00916 -2.8667,-18.86612 10e-6,-6.85696 1.00721,-14.52721 2.86673,-20.76431 1.85952,-6.2371 4.57123,-11.04069 8.09656,-15.61199 3.52533,-4.5713 7.86398,-8.90994 14.9147,-13.5975 7.05071,-4.68757 16.81285,-9.72359 26.5752,-14.75973"
       id="path1"
       inkscape:path-effect="#path-effect2"
       inkscape:original-d="m 340.75209,168.05168 c 0.46487,-2.86672 0.92974,-5.73344 1.39461,-8.60016 0.92977,-3.02174 1.8595,-6.04335 2.78924,-9.06503 0.69733,-2.01449 1.39462,-4.0289 2.09193,-6.04335 0.54237,-1.16221 1.08471,-2.32437 1.62706,-3.48655 1.93701,-0.15496 3.87394,-0.30991 5.81091,-0.46487 1.31717,0.3874 2.63429,0.77479 3.95143,1.16218 0.69732,1.00725 1.39462,2.01445 2.09193,3.02168 -1.16221,1.70457 -2.32437,3.40907 -3.48655,5.1136 -0.61985,1.39465 -1.23966,2.78924 -1.8595,4.18386 -0.7748,2.32441 -1.54957,4.64873 -2.32436,6.9731 -0.23244,1.62709 -0.46488,3.25411 -0.69731,4.88117 -0.0775,0.69732 -0.15496,1.39462 -0.23244,2.09193 4.64883,-1.85953 9.29747,-3.71899 13.9462,-5.57848 2.01449,0.15496 4.0289,0.30992 6.04335,0.46487 1.23969,0.0775 2.47932,0.15496 3.71899,0.23244 0.92976,0.85228 1.85949,1.70454 2.78924,2.5568 -0.15496,1.47213 -0.30992,2.9442 -0.46488,4.4163 -0.7748,0.85228 -1.54957,1.70453 -2.32436,2.5568 -1.39465,1.31717 -2.78924,2.63428 -4.18386,3.95142 5.03622,1.62709 10.07225,3.25412 15.10838,4.88117 2.16945,1.08473 4.33881,2.16941 6.50822,3.25412 0.85229,1.47212 1.70454,2.94419 2.55681,4.41629 0.54236,0.77481 1.0847,1.54958 1.62705,2.32437 3.25418,2.63433 6.50823,5.26856 9.76234,7.90284 1.70457,2.63434 3.40907,5.26857 5.11361,7.90285 1.5496,3.25418 3.09915,6.50822 4.64873,9.76234 0.3874,3.71906 0.77479,7.43797 1.16218,11.15695 0.0775,3.64158 0.15496,7.28302 0.23244,10.92452 -0.30992,3.87403 -0.61983,7.74789 -0.92975,11.62184 -0.7748,3.40913 -1.54958,6.81814 -2.32436,10.22721 -1.85953,4.10646 -3.71899,8.21276 -5.57848,12.31914 -2.86678,3.64158 -5.73344,7.28301 -8.60016,10.92452 -3.40914,2.63433 -6.81814,5.26856 -10.22721,7.90284 -4.10646,1.93701 -8.21276,3.87395 -12.31914,5.81092 -5.03623,0.61984 -10.07225,1.23966 -15.10838,1.85949 -5.19119,0.3874 -10.38217,0.77479 -15.57325,1.16219 -5.50111,-0.77481 -11.002,-1.54958 -16.503,-2.32437 -5.11371,-1.47213 -10.22722,-2.9442 -15.34082,-4.4163 -5.11371,-1.78205 -10.22721,-3.56402 -15.34082,-5.34604 -5.42363,-2.71181 -10.84704,-5.42352 -16.27056,-8.13528 -4.18394,-4.88127 -8.36772,-9.76234 -12.55158,-14.64351 -2.71181,-5.88851 -5.42352,-11.77679 -8.13528,-17.66518 -1.00725,-6.04347 -2.01445,-12.0867 -3.02168,-18.13006 1.00725,-7.67056 2.01445,-15.34081 3.02168,-23.01122 2.71181,-4.80379 5.42352,-9.60738 8.13528,-14.41107 4.3389,-4.33891 8.67755,-8.67755 13.01645,-13.01645 9.76253,-5.03623 19.52467,-10.07225 29.28702,-15.10839"
       sodipodi:nodetypes="cccccccccccccccccccccccccccccccccccccccccccccccc"
       transform="translate(-82.836185,29.159358)" />
    <path
       style="fill:#23562b;fill-opacity:1"
       d="m 348.69367,141.98003 c 1.82075,-1.51084 4.37755,-1.66579 6.2758,-1.39461 1.89824,0.27118 3.13788,0.96848 3.83519,1.82076 0.69731,0.85228 0.85227,1.85948 0.54235,3.09916 -0.30993,1.23968 -1.0847,2.71174 -1.93698,4.37755 -0.85227,1.66582 -1.782,3.52528 -2.63428,6.12085 -0.85228,2.59558 -1.62705,5.9271 -2.13066,8.13526 -0.50362,2.20816 -0.73605,3.29284 1.20096,2.98291 1.93702,-0.30993 6.04332,-2.01443 9.06501,-3.17662 3.0217,-1.16219 4.95863,-1.78201 6.89562,-1.89822 1.93699,-0.11622 3.87392,0.27117 5.19107,0.77479 1.31715,0.50362 2.01445,1.12344 2.47933,2.09193 0.46487,0.9685 0.6973,2.28562 0.54234,3.29285 -0.15496,1.00723 -0.69731,1.70453 -1.47211,2.75051 -0.7748,1.04598 -1.782,2.44057 -2.82798,3.40906 -1.04597,0.96849 -2.13065,1.51083 -1.54954,2.01444 0.58111,0.50362 2.82796,0.96849 5.92715,1.74329 3.09919,0.7748 7.05054,1.85948 9.76231,3.09916 2.71178,1.23967 4.18385,2.63427 5.34604,3.95142 1.16219,1.31715 2.01444,2.55679 2.28561,3.68024 0.27118,1.12346 -0.0387,2.13066 -1.12346,2.90545 -1.08472,0.7748 -2.94417,1.31714 -5.96589,1.62705 -3.02172,0.30992 -7.20549,0.3874 -10.92451,0.30992 -3.71902,-0.0775 -6.97307,-0.30991 -9.18123,-0.69731 -2.20816,-0.3874 -3.37032,-0.92975 -3.52527,1.31719 -0.15495,2.24694 0.6973,7.28297 0.96848,10.07221 0.27117,2.78925 -0.0387,3.33159 -0.61984,3.56402 -0.5811,0.23244 -1.43335,0.15496 -2.51807,-0.0387 -1.08471,-0.1937 -2.40183,-0.50361 -4.88119,-2.36313 -2.47936,-1.85953 -6.12079,-5.26853 -8.40643,-7.67039 -2.28564,-2.40186 -3.21536,-3.79645 -6.12087,-3.52525 -2.90551,0.27119 -7.78658,2.20812 -11.73803,3.44779 -3.95145,1.23966 -6.97307,1.78201 -9.29745,1.66578 -2.32438,-0.11622 -3.95141,-0.891 -4.80368,-2.13068 -0.85226,-1.23968 -0.92974,-2.94418 0.0775,-4.76495 1.00725,-1.82077 3.09914,-3.75771 4.88117,-5.57848 1.78203,-1.82077 3.25409,-3.52527 4.10636,-4.5325 0.85227,-1.00723 1.0847,-1.31713 -0.96853,-2.0532 -2.05323,-0.73606 -6.39196,-1.89822 -9.21995,-3.02167 -2.828,-1.12345 -4.14511,-2.20814 -5.42353,-3.25411 -1.27841,-1.04598 -2.51804,-2.05318 -3.17661,-3.1379 -0.65858,-1.08471 -0.73605,-2.24687 -0.54235,-3.2541 0.1937,-1.00724 0.65856,-1.85949 1.78203,-2.47932 1.12346,-0.61984 2.90544,-1.00723 4.99739,-1.27841 2.09195,-0.27117 4.49375,-0.42613 7.05058,-0.30991 2.55683,0.11622 5.26854,0.50361 8.01906,1.04597 2.75053,0.54236 5.53971,1.23966 7.55417,1.78202 2.01447,0.54235 3.25411,0.92974 4.14512,-0.89106 0.89101,-1.82079 1.43336,-5.84961 2.05319,-8.94879 0.61984,-3.09918 1.31714,-5.26854 2.20816,-7.78663 0.89102,-2.5181 1.9757,-5.38476 3.79645,-6.8956 z"
       id="path2"
       inkscape:path-effect="#path-effect3"
       inkscape:original-d="m 347.95762,140.62415 c 2.5568,-0.15495 5.1136,-0.30991 7.67041,-0.46487 1.23968,0.69733 2.47932,1.39462 3.71898,2.09193 0.15496,1.00725 0.30992,2.01445 0.46488,3.02168 -0.77481,1.47213 -1.54958,2.94419 -2.32437,4.41629 -0.92976,1.85953 -1.85949,3.71899 -2.78924,5.57848 -0.7748,3.33166 -1.54958,6.66318 -2.32437,9.99478 -0.23244,1.08472 -0.46487,2.1694 -0.69731,3.25411 4.10647,-1.70457 8.21277,-3.40907 12.31915,-5.11361 1.93701,-0.61984 3.87394,-1.23966 5.81091,-1.85949 1.93701,0.3874 3.87394,0.77479 5.81092,1.16218 0.69732,0.61985 1.39462,1.23967 2.09193,1.8595 0.23244,1.31716 0.46487,2.63428 0.69731,3.95142 -0.54237,0.69732 -1.08471,1.39462 -1.62706,2.09193 -1.00725,1.39465 -2.01445,2.78924 -3.02168,4.18386 -1.08472,0.54236 -2.1694,1.0847 -3.25411,1.62705 2.24693,0.46489 4.49378,0.92975 6.74066,1.39462 3.9515,1.08473 7.90285,2.16941 11.85427,3.25412 1.47213,1.39464 2.9442,2.78924 4.4163,4.18386 0.85228,1.23968 1.70453,2.47932 2.5568,3.71898 -0.30992,1.00725 -0.61983,2.01445 -0.92975,3.02168 -1.85953,0.54236 -3.71898,1.0847 -5.57848,1.62705 -4.18394,0.0775 -8.36771,0.15496 -12.55157,0.23244 -3.25418,-0.23244 -6.50823,-0.46487 -9.76234,-0.69731 -1.16221,-0.54236 -2.32437,-1.0847 -3.48655,-1.62706 0.85228,5.03623 1.70453,10.07226 2.5568,15.10838 -0.30992,0.54237 -0.61983,1.08471 -0.92974,1.62706 -0.85229,-0.0775 -1.70454,-0.15496 -2.55681,-0.23244 -1.31716,-0.30992 -2.63428,-0.61983 -3.95142,-0.92974 -3.64158,-3.40914 -7.28301,-6.81814 -10.92452,-10.22721 -0.92977,-1.39465 -1.85949,-2.78924 -2.78924,-4.18386 -4.88127,1.93701 -9.76234,3.87394 -14.64351,5.81091 -3.02173,0.54237 -6.04335,1.08471 -9.06503,1.62706 -1.62708,-0.77481 -3.25411,-1.54958 -4.88116,-2.32437 -0.0775,-1.70457 -0.15496,-3.40907 -0.23244,-5.1136 2.09197,-1.93701 4.18386,-3.87395 6.27579,-5.81092 1.47213,-1.70457 2.94419,-3.40907 4.41629,-5.1136 0.23244,-0.30993 0.46488,-0.61983 0.69731,-0.92975 -4.3389,-1.16221 -8.67763,-2.32437 -13.01645,-3.48655 -1.31716,-1.08473 -2.63428,-2.16941 -3.95142,-3.25411 -1.23969,-1.00725 -2.47932,-2.01445 -3.71899,-3.02168 -0.0775,-1.1622 -0.15495,-2.32436 -0.23243,-3.48655 0.46488,-0.85228 0.92974,-1.70453 1.39462,-2.5568 1.78205,-0.3874 3.56403,-0.77479 5.34604,-1.16218 2.40189,-0.15496 4.80369,-0.30992 7.20553,-0.46488 2.71182,0.38741 5.42353,0.77479 8.13529,1.16219 2.78929,0.69732 5.57847,1.39462 8.36771,2.09193 1.23969,0.3874 2.47933,0.77478 3.71899,1.16218 0.54236,-4.02898 1.0847,-8.0578 1.62706,-12.08671 0.69732,-2.16945 1.39462,-4.33881 2.09193,-6.50822 1.08472,-2.86678 2.1694,-5.73344 3.25411,-8.60016 z"
       transform="matrix(1.0892083,0,0,1.0549982,-113.01188,17.017114)" />
  </g>
              </svg>`,
}
// a function that convert SVG string to fabric paths
// this is essentiall to add the customised object like blue hat
export function svgStringToFabricPaths(svgString) {
  const parser = new DOMParser();
  const svgDoc = parser.parseFromString(svgString, "image/svg+xml");
  const pathElements = svgDoc.querySelectorAll("path");

  if (!pathElements.length) {
    console.error("No <path> elements found in the SVG string.");
    return [];
  }

  const paths = [];

  pathElements.forEach((pathElement) => {
    const pathData = pathElement.getAttribute("d");
    if (!pathData) return;

    const fillColor = pathElement.style.fill || pathElement.getAttribute("fill") || "#000";
    const opacity =
      parseFloat(pathElement.style.fillOpacity) ||
      parseFloat(pathElement.getAttribute("fill-opacity")) ||
      1;

    const fabricPath = new fabric.Path(pathData, {
      fill: fillColor,
      opacity: opacity,
    });

    paths.push(fabricPath);
  });

  return paths;
}


// a function that add a customised piece to the canva
export function addCustomisedShape(canvas, customisedShapeName) {
  if (canvas) {
    let customised_shape_svg = svgStringDict[customisedShapeName];

    const pathobj_array = svgStringToFabricPaths(customised_shape_svg);
    if (pathobj_array) {
      const group = fabric.util.groupSVGElements(pathobj_array);
      canvas.add(group);
    }
  }
}


// a function that add a circle to the canva
// export function addCircle(canvas) {
//   if (canvas) {
//     const circle = new Circle({
//       top: 150,
//       left: 150,
//       radius: 50,
//       fill: "#2F4DC6",
//     });
//     canvas.add(circle);
//   }
// }

// export Menus as a function to pass out the list of menu items
export function getMenus(canvas) {
  return [
    { 
      title: "face",
      icon: <LuCat />,
      submenu: true,
      submenuItems: [
        {
          title: "Square face",
          effect: () => addCustomisedShape(canvas, "squareface"),
          icon: <FaRegSquare />,
        },
        {
          title: "Bear face",
          effect: () => addCustomisedShape(canvas, "bearface"),
          icon: <RiBearSmileLine color="#8B4513" />,
        },
      ],
    },
    {
      title: "facial expression",
      icon: <LuSmile />,
      submenu: true,
      submenuItems: [
        {
          title: "Flushed",
          effect: () => addCustomisedShape(canvas, "freezeface"),
          icon: <FaRegFaceFlushed color="#FFB6C1"/>,
        },
        {
          title: "Bear Smile",
          effect: () => addCustomisedShape(canvas, "bearsmile"),
          icon: <FaRegSmileWink />,
        },
      ],
    },
    {
      title: "decoration",
      icon: <LuBone />,
      submenu: true,
      submenuItems: [
        {
          title: "blue hat",
          effect: () => addCustomisedShape(canvas, "bluehat"),
          icon: <FaHatCowboy color="#1E90FF"/>,
        },
        {
          title: "yellow hat",
          effect: () => addCustomisedShape(canvas, "yellowhat"),
          icon: <FaHatCowboy color="#FFBF00"/>,
        },
        {
          title: "cake",
          effect: () => addCustomisedShape(canvas, "cake"),
          icon: <BiCake color="#FFB6C1"/>,
        },
        {
          title: "birthday hat",
          effect: () => addCustomisedShape(canvas, "birthdayhat"),
          icon: <GiPartyHat color="#1E90FF"/>,
        },
        {
          title: "apple",
          effect: () => addCustomisedShape(canvas, "apple"),
          icon: <FaAppleWhole color="#CD5C5C"/>,
        },
        {
          title: "pink heart",
          effect: () => addCustomisedShape(canvas, "pinkheart"),
          icon: <FaRegHeart color="#ffd7e9"/>,
        },
        {
          title: "tomato",
          effect: () => addCustomisedShape(canvas, "tomato"),
          icon: <GiTomato color="#FF0000"/>,
        },
      ],
    },
  ];
}
